METHOD_0 ( ) { when ( IDENT_0 . save ( IDENT_1 ) ) . thenReturn ( IDENT_1 ) ; when ( IDENT_2 . METHOD_1 ( ) ) . thenReturn ( authentication ) ; when ( authentication . METHOD_2 ( ) ) . thenReturn ( IDENT_1 ) ; edu . IDENT_3 . IDENT_4 . core . entities . User user = IDENT_5 . METHOD_3 ( IDENT_1 ) ; "<AssertPlaceHolder>" ; verify ( IDENT_0 , times ( 1 ) ) . save ( IDENT_1 ) ; verify ( IDENT_2 , times ( 1 ) ) . METHOD_1 ( ) ; verify ( authentication , times ( 1 ) ) . METHOD_2 ( ) ; } METHOD_3 ( edu . IDENT_3 . IDENT_4 . core . entities . User ) { com . google . common . base . IDENT_6 . METHOD_4 ( user ) ; if ( ( edu . IDENT_3 . IDENT_4 . core . util . IDENT_7 . METHOD_5 ( user . getId ( ) ) ) || ( edu . IDENT_3 . IDENT_4 . core . util . IDENT_7 . METHOD_6 ( edu . IDENT_3 . IDENT_4 . core . services . IDENT_8 ) ) ) { user . METHOD_7 ( IDENT_9 . encode ( user . METHOD_8 ( ) ) ) ; return IDENT_0 . save ( user ) ; } else { throw new org . springframework . security . authentication . METHOD_9 ( STRING_0 ) ; } }
org . junit . Assert . assertEquals ( IDENT_1 , user ) 